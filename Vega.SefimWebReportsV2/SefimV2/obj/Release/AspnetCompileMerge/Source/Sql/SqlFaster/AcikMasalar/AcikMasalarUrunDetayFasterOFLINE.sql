DECLARE @Sube nvarchar(100) = 'SubeAdi';

DECLARE @par1 nvarchar(20) = '{TARIH1}';

DECLARE @par2 nvarchar(20) = '{TARIH2}';

DECLARE @par3 int = '{TableNumber}';


SELECT @Sube AS Sube,

  (SELECT TOP 1 SUBEADI
   FROM TBLFASTERKASALAR
   WHERE SUBENO=FBB.SUBEIND) AS Sube1,

  (SELECT KASAADI
   FROM TBLFASTERKASALAR
   WHERE KASANO=FBB.KASAIND) AS Kasa,

  (SELECT IND
   FROM TBLFASTERKASALAR
   WHERE KASANO=FBB.KASAIND) AS ID,
       FBB.FIRMAKODU TableNumber,
       STK.MALINCINSI ProductName,
	   FBH.PERKODU,
       FBH.ISLEMTARIHI Date, (MIKTAR*SATISFIYATI) AS TUTAR
FROM TBLFASTERBEKLEYENHAREKET FBH
LEFT JOIN TBLFASTERBEKLEYENBASLIK FBB ON FBB.BASLIKIND = FBH.BASLIKIND
LEFT JOIN TBLFASTERSTOKLAR STK ON STK.STOKNO = FBH.STOKIND
WHERE FBH.ISLEMTARIHI>=@par1
  AND FBH.ISLEMTARIHI<=@par2
  AND FBB.BASLIKIND=@par3