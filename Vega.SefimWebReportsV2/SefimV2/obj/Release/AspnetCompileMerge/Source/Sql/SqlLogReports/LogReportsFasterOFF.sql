DECLARE @Sube nvarchar(100) = '{SUBE}';

DECLARE @Trh1 nvarchar(20) = '{TARIH1}';

DECLARE @Trh2 nvarchar(20) = '{TARIH2}';


SELECT
  (SELECT TOP 1 SUBEADI
   FROM TBLFASTERKASALAR
   WHERE SUBENO=SATIS.SUBEIND) AS Sube1,

  (SELECT KASAADI
   FROM TBLFASTERKASALAR
   WHERE KASANO=SATIS.KASAIND) AS Kasa,

  (SELECT IND
   FROM TBLFASTERKASALAR
   WHERE KASANO=SATIS.KASAIND) AS ID,
       USR.USERNAME,
       SATIS.ISLEMTARIHI,
       SATIS.ACIKLAMA,
       SATIS.BELGENO,
       CAR.FIRMAADI,
       STK.STOKKODU,
       STK.MALINCINSI
FROM TBLFASTERLOG AS SATIS
LEFT JOIN TBLFASTERCARI AS CAR ON CAR.FIRMANO = SATIS.CARIIND
LEFT JOIN TBLFASTERSTOKLAR AS STK ON STK.STOKNO= SATIS.STOKIND
LEFT JOIN TBLFASTERUSERS AS USR ON USR.USERNO = SATIS.USERIND
WHERE SATIS.ISLEMTARIHI >= @Trh1
  AND SATIS.ISLEMTARIHI <= @Trh2
ORDER BY SATIS.ISLEMTARIHI