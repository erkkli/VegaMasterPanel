
@model IEnumerable<SefimV2.Models.SubeUrun>
@using SefimV2.Models

@{
    var StartDateTime = ViewBag.StartDateTime;
    var EndDateTime = ViewBag.EndDateTime;

}
<div class="m-subheader ">
    <div class="d-flex align-items-center">
        <div class="mr-auto">
            <h4 class="m-subheader__title m-subheader__title--separator" style="text-align:center;margin-top:1px;margin-bottom:1px">Recete İçerik</h4>
        </div>
    </div>
</div>

@*<button type="button" class="btn btn-success" id="btnExport" onclick="fnExcelReport();" style="float: right;"><i class="fa fa-file-excel-o"></i> - Excel</button>*@
<button id="btnRangeDetail" class="btn btn-danger pull-right " type="button" data-toggle="modal" data-target="#modalEpostaFormDetail"> <i class="fa fa-mail-forward"></i>E-Posta   </button>

<table id="tableUrunDetay" class="table datatable table-bordered  table-condensed">
    @{
        <thead>
            <tr style="background-color:#fef9e4">
                <th class="column-title" style="text-align:right">Hm Kodu</th>
                <th class="column-title" style="text-align:right">Hm Adı</th>
                <th class="column-title" style="text-align:right">Miktar</th>
                <th class="column-title" style="text-align:right">Birim Adı</th>
                <th class="column-title" style="text-align:right">Birim Maliyet</th>
                <th class="column-title" style="text-align:right">Maliyet Tutarı</th>
            </tr>
        </thead>
        <tbody class="liste">
            @foreach (var row in Model)
            {
                <tr class="link" style="color:#000000;font-weight:bold ">
                    <td style="text-align:right">@row.HMKODU    </td>
                    <td style="text-align:right">@row.HMADI  </td>
                    <td style="text-align:right"> @row.Miktar.ToString("C")  </td>
                    <td style="text-align:right"> @row.BIRIMADI  </td>
                    <td style="text-align:right"> @row.MALIYET.ToString("C")  </td>
                    <td style="text-align:right"> @row.MaliyetTutari.ToString("C")  </td>
                </tr>
            }
        </tbody>
    }
</table>

<div class="modal fade" id="modalEpostaFormDetail" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">E-Posta Gönder</h4>
            </div>
            <div class="modal-body">
                <div class="clearfix"></div>
                <div class="form-group" style="margin-top:10px !important;">
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <div class="controls">
                            <div class="form-group m-form__group row  has-feedback ">
                                <label class="col-form-label col-lg-3 col-sm-12">E-Posta </label>
                                <div class="col-lg-9 col-md-9 col-sm-12">
                                    @*<input type="text" name="Name" id="ePostaAdress" />*@
                                    <input type="email" id="ePostaAdress" class="form-control" aria-describedby="emailHelp" placeholder="E Posta Giriniz">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="clearfix"></div>
            </div>
            <div class="modal-footer">
                <button id="btnEpostasaveDetail" type="button" class="btnEpostasave btn btn-success" data-id="0"> <i class="fa fa-mail-forward"></i> Gönder</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Kapat</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {

        var buttonCommon = {
            exportOptions: {
                format: {
                    body: function (data, row, column, node) {
                        console.log(" data_", data);
                        return data.replace(/[$,.]/g, '.')
                        data;
                    }
                }
            }
        };

        $('#tableUrunDetay').DataTable({
            language: {
                info: "_TOTAL_ kayıttan _START_ - _END_ kayıt gösteriliyor.",
                infoEmpty: "Gösterilecek hiç kayıt yok.",
                loadingRecords: "Kayıtlar yükleniyor.",
                zeroRecords: "Tablo boş",
                search: "Arama:",
                infoFiltered: "(toplam _MAX_ kayıttan filtrelenenler)",
                buttons: {
                    copyTitle: "Panoya kopyalandı.",
                    copySuccess: "Panoya %d satır kopyalandı",
                    copy: "Kopyala",
                    print: "Yazdır",
                },
                paginate: {
                    first: "İlk",
                    previous: "Önceki",
                    next: "Sonraki",
                    last: "Son"
                },
            },
            dom: 'Bfrtip',
            "pageLength": 80,
            "bDestroy": true,
            //buttons: [
            //    'copy', 'excel', 'pdf', 'print'
            //],

            buttons: [
                $.extend(true, {}, buttonCommon, {
                    extend: 'copyHtml5'
                }),
                $.extend(true, {}, buttonCommon, {
                    extend: 'excelHtml5'
                }),
                $.extend(true, {}, buttonCommon, {
                    extend: 'pdfHtml5'
                }),
                //$.extend(true, {}, buttonCommon, {
                //    extend: 'printHtml5'
                //})
                'print'
            ],
            //responsive: true
        });

    });
</script>





